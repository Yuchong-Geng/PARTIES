Some usage of linux container (LXC)

==== Basic Operations ====
sudo apt-get install lxc
sudo lxc-ls  // install lxc
sudo lxc-info -n <name-of-container>    // print basic info of a container, e.g., status, IP address
sudo lxc-create -t ubuntu -n <name-of-container>    // create a container with Ubuntu, set user and password
sudo lxc-start -d -n <name-of-container>    // start a container
sudo lxc-console -n <name-of-container>    // enter the container. Ctrl-a q to exit
sudo lxc-attach -n <name-of-container> -- <command>    // execute a command inside the container
sudo lxc-destroy -n <name-of-container>    // delete a container


==== Install Packages Inside LXC ====
Modify /etc/apt/source.list
sudo apt-get update
sudo apt-get upgrade


==== Resource Isolation ====
sudo lxc-cgroup -n <name-of-container> cpuset.cpus    // check bounded cores
sudo lxc-cgroup -n <name-of-container> cpuset.cpus 0,2,4    // pin the container to a specific set of cores, 0,2,4 in this case
sudo lxc-cgroup -n <name-of-container> memory.limit_in_bytes    // check memory limit
sudo lxc-cgroup -n <name-of-container> memory.limit_in_bytes 1G    // set memory limit to 1G


==== Network Port Forwarding ====
* check portforw.sh
* To delete or change the forwarding, do the following commands in iptables:
iptables -t nat -L --line-numbers
iptables -t nat -D PREROUTING <line-number>

